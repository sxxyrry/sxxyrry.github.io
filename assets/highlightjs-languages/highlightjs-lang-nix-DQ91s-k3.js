var a,l;function x(){if(l)return a;l=1;function h(t){const r=t.regex,s={keyword:["assert","else","if","in","inherit","let","or","rec","then","with"],literal:["true","false","null"],built_in:["abort","baseNameOf","builtins","derivation","derivationStrict","dirOf","fetchGit","fetchMercurial","fetchTarball","fetchTree","fromTOML","import","isNull","map","placeholder","removeAttrs","scopedImport","throw","toString"]},E={scope:"built_in",match:r.either(...["abort","add","addDrvOutputDependencies","addErrorContext","all","any","appendContext","attrNames","attrValues","baseNameOf","bitAnd","bitOr","bitXor","break","builtins","catAttrs","ceil","compareVersions","concatLists","concatMap","concatStringsSep","convertHash","currentSystem","currentTime","deepSeq","derivation","derivationStrict","dirOf","div","elem","elemAt","false","fetchGit","fetchMercurial","fetchTarball","fetchTree","fetchurl","filter","filterSource","findFile","flakeRefToString","floor","foldl'","fromJSON","fromTOML","functionArgs","genList","genericClosure","getAttr","getContext","getEnv","getFlake","groupBy","hasAttr","hasContext","hashFile","hashString","head","import","intersectAttrs","isAttrs","isBool","isFloat","isFunction","isInt","isList","isNull","isPath","isString","langVersion","length","lessThan","listToAttrs","map","mapAttrs","match","mul","nixPath","nixVersion","null","parseDrvName","parseFlakeRef","partition","path","pathExists","placeholder","readDir","readFile","readFileType","removeAttrs","replaceStrings","scopedImport","seq","sort","split","splitVersion","storeDir","storePath","stringLength","sub","substring","tail","throw","toFile","toJSON","toPath","toString","toXML","trace","traceVerbose","true","tryEval","typeOf","unsafeDiscardOutputDependency","unsafeDiscardStringContext","unsafeGetAttrPos","warn","zipAttrsWith"].map(_=>`builtins\\.${_}`)),relevance:10},e="[A-Za-z_][A-Za-z0-9_'-]*",m={scope:"symbol",match:new RegExp(`<${e}(/${e})*>`)},o="[A-Za-z0-9_\\+\\.-]+",u={scope:"symbol",match:new RegExp(`(\\.\\.|\\.|~)?/(${o})?(/${o})*(?=[\\s;])`)},i=r.either("==","=","\\+\\+","\\+","<=","<\\|","<",">=",">","->","//","/","!=","!","\\|\\|","\\|>","\\?","\\*","&&"),g={scope:"operator",match:r.concat(i,/(?!-)/),relevance:0},d={scope:"number",match:new RegExp(`${t.NUMBER_RE}(?!-)`),relevance:0},f={variants:[{scope:"operator",beforeMatch:/\s/,begin:/-(?!>)/},{begin:[new RegExp(`${t.NUMBER_RE}`),/-/,/(?!>)/],beginScope:{1:"number",2:"operator"}},{begin:[i,/-/,/(?!>)/],beginScope:{1:"operator",2:"operator"}}],relevance:0},b={beforeMatch:/(^|\{|;)\s*/,begin:new RegExp(`${e}(\\.${e})*\\s*=(?!=)`),returnBegin:!0,relevance:0,contains:[{scope:"attr",match:new RegExp(`${e}(\\.${e})*(?=\\s*=)`),relevance:.2}]},A={scope:"char.escape",match:/\\\$/},O={scope:"char.escape",match:/''\$/},n={scope:"subst",begin:/\$\{/,end:/\}/,keywords:s},R={scope:"char.escape",match:/'''/},c={scope:"char.escape",match:/\\(?!\$)./},S={scope:"string",variants:[{begin:"''",end:"''",contains:[O,n,R,c]},{begin:'"',end:'"',contains:[A,n,c]}]},T={scope:"params",match:new RegExp(`${e}\\s*:(?=\\s)`)},p=[d,t.HASH_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.COMMENT(/\/\*\*(?!\/)/,/\*\//,{subLanguage:"markdown",relevance:0}),E,S,m,u,T,b,f,g];n.contains=p;const N=[{scope:"meta.prompt",match:/^nix-repl>(?=\s)/,relevance:10},{scope:"meta",beforeMatch:/\s+/,begin:/:([a-z]+|\?)/}];return{name:"Nix",aliases:["nixos"],keywords:s,contains:p.concat(N)}}return a=h,a}export{x as r};
